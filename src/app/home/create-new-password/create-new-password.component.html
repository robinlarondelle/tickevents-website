<div class="row no-gutters header-padding h-100">
  <app-return-to-home-button class="mt-3"></app-return-to-home-button>

  <div class="align-content-center w-100">
    <div class="row no-gutters">


      <div class="col-md-6" *ngIf="!successMessage; else successTemplate">
        <h1><b>Nieuw Wachtwoord</b></h1>
        <p>Maak hier een nieuw wachtwoord aan voor {{identityUser?.email}}</p>

        <form [formGroup]="newPasswordForm" (ngSubmit)="submit()">

          <div class="form-row justify-content-center justify-content-md-start">
            <div class="form-group col-11 col-lg-10 col-xl-9">
              <label for="newPassword" class="col-form-label">Nieuw Wachtwoord<span class="r">*</span></label>
              <input autocomplete="new-password" type="password" formControlName="newPassword" id="newPassword" class="form-control">
              <span *ngIf="submitted && newPassword.invalid && newPassword.errors.required" class="r small">Dit veld is
                verplicht.</span>
              <span *ngIf="submitted && newPassword.invalid && newPassword.errors.minLenght" class="r small">Het nieuwe
                wachtwoord moet minimaal 6 tekens lang zijn.</span>
            </div>
          </div>

          <div class="form-row justify-content-center justify-content-md-start">
            <div class="form-group col-11 col-lg-10 col-xl-9">
              <label for="newPassword" class="col-form-label">Herhaal Wachtwoord<span class="r">*</span></label>
              <input autocomplete="new-password" type="password" formControlName="newPasswordConf" id="newPasswordConf" class="form-control">
              <span *ngIf="submitted && newPasswordConf.invalid && newPasswordConf.errors.required" class="r small">Dit
                veld
                is verplicht.</span>
              <span *ngIf="submitted && passwordsDontMatchError" class="r small">Wachtwoorden komen niet overeen.</span>
            </div>
          </div>


          <div class="row no-gutters mt-3">
            <div class="col-11 col-lg-10 col-xl-9 text-right">

              <div *ngIf="!loading; else loadingButton">
                <button class="btn btn-outline-dark btn-bottom" type="submit">Verstuur</button>
              </div>

              <ng-template #loadingButton>
                <button class="btn btn-outline-dark btn-loading btn-bottom align-content-center" disabled>
                  <app-loading-icon></app-loading-icon>
                </button>
              </ng-template>

            </div>
          </div>

        </form>

      </div>
      <div class="col-0 col-md-6"></div>
    </div>
  </div>
</div>

<ng-template #successTemplate>
  <div class="col-md-6">
    <h1><b>Gelukt!</b></h1>
    <p>Je wachtwoord is geupdate. Je kunt nu inloggen met dit nieuwe wachtwoord</p>
  </div>
</ng-template>
